@{
    Layout = "_Layout";
}

@using SweetAndSavory.Models;
@using Microsoft.AspNetCore.Identity;

<h1>Flavors</h1>

@if (@Model.Count == 0)
{
    <p>No flavors yet added</p>
}

<ul>
    @foreach (Flavor flavor in Model)
    {
        <li>
            @if (User.IsInRole("Admin"))
            {
                @Html.ActionLink($"{flavor.FlavorName}", "Details", new { id = flavor.FlavorId })
            }
            else{
                @flavor.FlavorName
            }
        </li>
    }
</ul>
<div class="link-container">
    @if (User.IsInRole("Admin"))
    {
        <p>@Html.ActionLink("Add new flavor", "Create", "Flavors")</p>
    }
    <p>@Html.ActionLink("Return home", "Index", "Home")</p>
</div>